{"version":3,"sources":["webpack:///webpack/bootstrap 5d83957043dc8d520bb8","webpack:///./scripts/amp.js","webpack:///./scripts/envelope.js","webpack:///./scripts/lfo.js","webpack:///./scripts/synth_view.js","webpack:///./scripts/biquadfilter.js","webpack:///./scripts/oscillator.js","webpack:///./scripts/synth.js","webpack:///./scripts/synthviz.js","webpack:///./scripts/voice.js","webpack:///./scripts/waveform.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;AChEA,kBAAiC,aAAa;AAC9C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;;;;;;;;ACxBA,uBAAsC,QAAQ;AAC9C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACvBA,kBAAiC,mBAAmB;AACpD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,6C;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;;;;;;;;AC1BA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,6DAA6D;AACtE,SAAS,6DAA6D;AACtE,SAAS,6DAA6D;AACtE,SAAS,6DAA6D;AACtE,SAAS,6DAA6D;AACtE,SAAS,6DAA6D;AACtE,SAAS,6DAA6D;AACtE,SAAS,6DAA6D;AACtE,SAAS,6DAA6D;AACtE,SAAS,6DAA6D;AACtE,SAAS,6DAA6D;AACtE,SAAS,6DAA6D;AACtE,SAAS,6DAA6D;AACtE,SAAS,6DAA6D;AACtE,SAAS,6DAA6D;AACtE,SAAS,6DAA6D;AACtE,SAAS;AACT,0CAA0C;AAC1C,SAAS;AACT;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,oBAAoB;AACvC;AACA;AACA,mBAAmB,uBAAuB;AAC1C,0CAA0C,aAAa;AACvD;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA,qCAAqC,EAAE;AACvC;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,GAAG;;AAEH;AACA,qCAAqC,EAAE;AACvC;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE,IAAI;AACrE;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,SAAS;AAC7D,oDAAoD,SAAS;AAC7D,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;;AAGL;AACA;;AAEA;AACA;AACA;;AAEA,GAAG;AACH;AAAA;AAAA;;;;;;;;;AC7SA,2BAA0C,gBAAgB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;;;;;;;;AC1BA,yBAAwC,iCAAiC;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACnCoB;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gGAAoB,QAAQ;;AAE5B;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,iGAAqB,gBAAgB;AACrC,iGAAqB,sBAAsB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,8CAA8C;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE;AACjE;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA,qBAAqB,sBAAsB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,sBAAsB;AAC3C;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,qBAAqB,sBAAsB;AAC3C;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,qBAAqB,sBAAsB;AAC3C;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA,qBAAqB,sBAAsB;AAC3C;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;;;;;;;;;ACzMoB;;AAEpB;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;;;ACPD;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,6DAA6D;AAC7D;AACA;AACA;AACA;AACA,iGAAqB,iCAAiC;AACtD,oGAA4B,mBAAmB;AAC/C,oGAAwB,2BAA2B;AACnD,yGAA6B,8CAA8C;AAC3E,yGAA6B,8CAA8C;AAC3E,2FAAe,mBAAmB;AAClC,2FAAe,mBAAmB;AAClC,qGAA6B,QAAQ;AACrC,qGAA6B,QAAQ;AACrC,uGAA+B,oCAAoC;AACnE,uGAA+B,oCAAoC;AACnE;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,OAAO;AACP;AACA;AACA;;;;;;;;;ACxFA,uBAAsC,mBAAmB;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAkB,kBAAkB;AACpC;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA","file":"./scripts/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 5d83957043dc8d520bb8","export default function makeAmp({context, vol}){\n  let gain = context.createGain();\n  if (vol === undefined) vol = .1;\n  let input = gain,\n      output = gain,\n      amplitude = gain.gain;\n      amplitude.value = vol;\n\n  return {\n    gain,\n    input,\n    output,\n    amplitude,\n    changeAmplitude(newAmplitude){\n      this.amplitude.value = newAmplitude;\n    },\n    connect(node){\n      if (node.hasOwnProperty('input')) {\n        this.output.connect(node.input);\n      } else {\n        this.output.connect(node);\n      }\n    }\n  };\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./scripts/amp.js\n// module id = 0\n// module chunks = 0","export default function makeEnvelope({context}){\n  let envelope = {\n\n    envOn(attackTime, decayTime, sustainVal, amplitude){\n      let now = context.currentTime;\n      this.param.cancelScheduledValues(now);\n      this.param.setValueAtTime(0, now);\n      this.param.linearRampToValueAtTime(amplitude, now + attackTime);\n      this.param.linearRampToValueAtTime(\n        (amplitude * sustainVal), now + attackTime + decayTime);\n    },\n\n    envOff(releaseTime){\n      let now = context.currentTime;\n      this.param.cancelScheduledValues(0);\n      this.param.setValueAtTime(this.param.value, now);\n      this.param.linearRampToValueAtTime(0, now + releaseTime);\n    },\n    connect(param){\n      this.param = param;\n    }\n  };\n  return envelope;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./scripts/envelope.js\n// module id = 1\n// module chunks = 0","export default function makeLFO({context, frequency}){\n  let lfo = context.createOscillator(),\n      input = lfo,\n      output = lfo;\n      let lfoFrequency = lfo.frequency;\n      lfo.frequency.value = frequency;\n\n  return {\n    lfo,\n    lfoFrequency,\n    input,\n    output,\n    changeFrequency(newFrequency){\n      this.lfoFrequency.value = newFrequency;      \n    },\n    connect(node){\n      if (node.hasOwnProperty('input')) {\n        output.connect(node.input);\n      } else {\n        output.connect(node);\n      }\n    },\n    start(){\n      lfo.start();\n    }\n  };\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./scripts/lfo.js\n// module id = 2\n// module chunks = 0","import makeSynth from './synth.js';\n  var synth = makeSynth();\n\nexport const synthView = {\n  synth,\n  inc: 0,\n  ctx: document.querySelector('#canvas').getContext('2d'),\n  lastTime: 0,\n  keys: {\n    65: { down: false, n: 40, action: (n) => synthView.startSynth(n) },\n    87: { down: false, n: 41, action: (n) => synthView.startSynth(n) },\n    83: { down: false, n: 42, action: (n) => synthView.startSynth(n) },\n    69: { down: false, n: 43, action: (n) => synthView.startSynth(n) },\n    68: { down: false, n: 44, action: (n) => synthView.startSynth(n) },\n    70: { down: false, n: 45, action: (n) => synthView.startSynth(n) },\n    84: { down: false, n: 46, action: (n) => synthView.startSynth(n) },\n    71: { down: false, n: 47, action: (n) => synthView.startSynth(n) },\n    89: { down: false, n: 48, action: (n) => synthView.startSynth(n) },\n    72: { down: false, n: 49, action: (n) => synthView.startSynth(n) },\n    85: { down: false, n: 50, action: (n) => synthView.startSynth(n) },\n    74: { down: false, n: 51, action: (n) => synthView.startSynth(n) },\n    75: { down: false, n: 52, action: (n) => synthView.startSynth(n) },\n    79: { down: false, n: 53, action: (n) => synthView.startSynth(n) },\n    76: { down: false, n: 54, action: (n) => synthView.startSynth(n) },\n    80: { down: false, n: 55, action: (n) => synthView.startSynth(n) },\n    90: { down: false, type: 'octave', dir: 'down',\n      action: (n) => synthView.octave(n) },\n    88: { down: false, type: 'octave', dir: 'up',\n      action: (n) => synthView.octave(n) }\n  },\n  animate(time){\n    const timeDelta = time - this.lastTime;\n    this.synth.draw(this.ctx);\n    this.lastTime = time;\n    requestAnimationFrame(this.animate.bind(this));\n  },\n  octave(obj){\n    let oct1, oct2;\n    if (obj.dir === 'up'){\n      oct1 = this.synth.osc1oct + 1;\n      oct2 = this.synth.osc2oct + 1;\n    } else {\n      oct1 = this.synth.osc1oct - 1;\n      oct2 = this.synth.osc2oct - 1;\n    }\n    this.synth.changeOctave(oct1, 1);\n    this.synth.changeOctave(oct2, 2);\n  },\n  increment(val){\n    let keys = Object.keys(this.keys);\n    let diff = Math.abs(this.inc - val);\n    if (this.inc > val) diff *= -1;\n\n    for (let i = 0; i < keys.length; i++){\n      let currKey = keys[i];\n      if (!this.keys[currKey].incremented){\n        this.keys[currKey].origin = this.keys[currKey].n;\n      }\n      if (this.synth.activeVoices[this.keys[currKey].n]){\n        this.keys[currKey].incremented = true;\n      }\n      let n = this.keys[currKey].n += diff;\n      if (n) this.keys[currKey].n = n;\n    }\n    this.synth.updateFrequencies(diff);\n    this.inc = val;\n    this.updateKeyLettering();\n  },\n  updateKeyLettering(){\n    let keyLetters = [\"A\",\"W\",\"S\",\"E\",\"D\",\"F\",\"T\",\"G\",\n                      \"Y\",\"H\",\"U\",\"J\",\"K\",\"O\",\"L\",\"P\"];\n    let keyValues = Object.keys(this.keys);\n    let firstKey = this.keys[keyValues[0]].n;\n    let keyDivs = document.querySelectorAll('div[data-keynum]');\n\n    for (let i = 0; i < keyDivs.length; i++){\n      keyDivs[i].innerHTML = (\"\");\n    }\n    for (let i = 0; i < keyLetters.length; i++){\n      let keyString = `div[data-keynum=\"${i + firstKey}\"]`;\n      let keyDiv = document.querySelector(keyString);\n      keyDiv.innerHTML = (keyLetters[i]);\n    }\n  },\n  startSynth(n){\n    this.synth.start(n);\n    this.pushKey(n.n);\n  },\n  pushKey(n){\n    let keyString = `div[data-key=\"${n}\"]`;\n    let key = document.querySelector(keyString);\n    if (key !== null){\n      if (Array.from(key.classList).includes('black')){\n        key.classList.add('playblack');\n      } else {\n        key.classList.add('playwhite');\n      }\n    }\n  },\n\n  releaseKey(n){\n    let keyString = `div[data-key=\"${n}\"]`;\n    let key = document.querySelector(keyString);\n    if (key !== null){\n      if (Array.from(key.classList).includes('black')){\n        key.classList.remove('playblack');\n      } else {\n        key.classList.remove('playwhite');\n      }\n    }\n  },\n\n  setUpKnobs(){\n    let that = this;\n    $(\".knob\").knob({\n        'release': function(v){\n          switch(this.$[0].dataset.action){\n            case 'tremolo-speed':\n              that.synth.changeLFO(v, 'speed', 'tremolo');\n              break;\n            case 'tremolo-depth':\n              that.synth.changeLFO(v, 'depth', 'tremolo');\n              break;\n            case 'vibrato-speed':\n              that.synth.changeLFO(v, 'speed', 'vibrato');\n              break;\n            case 'vibrato-depth':\n              that.synth.changeLFO(v, 'depth', 'vibrato');\n              break;\n            case 'tune':\n              that.increment(v);\n              break;\n            case 'attack':\n              jQuery.event.trigger('setAttack', 2 * v / 100);\n              break;\n            case 'decay':\n              jQuery.event.trigger('setDecay', 3 * v / 100);\n              break;\n            case 'sustain':\n              jQuery.event.trigger('setSustain', (v / 100 * .5));\n              break;\n            case 'release':\n              jQuery.event.trigger('setRelease', 2 * v / 100);\n              break;\n            case 'oscVolume':\n              if (this.$[0].dataset.osc === '1'){\n                that.synth.changeOscVolume(v/1000, 1);\n              } else {\n                that.synth.changeOscVolume(v/1000, 2);\n              }\n              break;\n            case 'octave':\n              if (this.$[0].dataset.osc === '1'){\n                that.synth.changeOctave(v, 1);\n              } else {\n                that.synth.changeOctave(v, 2);\n              }\n              break;\n            case 'cutoff':\n              if (this.$[0].dataset.osc === '1'){\n                that.synth.changeCutoff(v, that.synth.osc1res, 1);\n              } else {\n                that.synth.changeCutoff(v, that.synth.osc2res, 2);\n              }\n              break;\n          }\n        }\n    });\n  },\n  setUpOscillatorTypes(){\n    var oscSettings = document.querySelectorAll('.osctype');\n    oscSettings.forEach((osc) => {\n      osc.addEventListener('click', function(e){\n        let type = e.currentTarget.getAttribute('data-type');\n        let num = e.currentTarget.getAttribute('data-osc');\n        let currSet = document.querySelectorAll(`div[data-osc=\"${num}\"]`);\n        currSet.forEach(osci => {\n          osci.classList.remove('active');\n        });\n        this.synth.changeType(type, num);\n        e.currentTarget.classList.add('active');\n      }.bind(this));\n    });\n  },\n  clearActivePreset(){\n    let presets = document.querySelectorAll('.preset');\n    presets.forEach((preset) => {\n      if (Array.from(preset.classList).includes('active')){\n        preset.classList.remove('active');\n      }\n    });\n  },\n\n  setUpPresets(){\n    let presets = document.querySelectorAll('.preset');\n    presets.forEach((preset) => {\n      preset.addEventListener('click', function(){\n        switch (preset.innerHTML){\n          case '1':\n            this.setPreset(0,7,55,10,50,1,9.18,18,4,12.91,6,5,0,0,'sine', 'sine');\n          break;\n          case '2':\n            this.setPreset(32,7,55,10,50,1,16.74,88,3,12.89,3.5,6,6,76,'sawtooth', 'triangle');\n          break;\n          case '3':\n            this.setPreset(0,7,55,10,50,1,9.18,88,2,12.91,2,2,8.5,84,'triangle', 'triangle');\n          break;\n          case '4':\n            this.setPreset(0,5,0,10,50,1,9.18,88,3,18.88,0,0,0,0,'sawtooth','triangle');\n          break;\n          case '5':\n            this.setPreset(24,0,100,10,50,1,6.62,88,3,11.83,3.5,2,1.5,45,'square', 'sawtooth');\n          break;\n        }\n        this.clearActivePreset();\n        preset.classList.add('active');\n      }.bind(this));\n    });\n  },\n\n  setPreset(attack, decay, sustain, release, osc1vol, osc1oct, osc1cutoff,\n    osc2vol, osc2oct, osc2cutoff, vibratoSpeed, vibratoDepth,\n     tremoloSpeed, tremoloDepth, osc1type, osc2type){\n       $('.knob[data-action=\"attack\"]').val(attack).trigger('change');\n       $('.knob[data-action=\"decay\"]').val(decay).trigger('change');\n       $('.knob[data-action=\"sustain\"]').val(sustain).trigger('change');\n       $('.knob[data-action=\"release\"]').val(release).trigger('change');\n       $('.knob[data-action=\"oscVolume\"].knob[data-osc=\"1\"]').val(osc1vol).trigger('change');\n       $('.knob[data-action=\"oscVolume\"].knob[data-osc=\"2\"]').val(osc2vol).trigger('change');\n       $('.knob[data-action=\"octave\"].knob[data-osc=\"1\"]').val(osc1oct).trigger('change');\n       $('.knob[data-action=\"octave\"].knob[data-osc=\"2\"]').val(osc2oct).trigger('change');\n       $('.knob[data-action=\"cutoff\"].knob[data-osc=\"1\"]').val(osc1cutoff).trigger('change');\n       $('.knob[data-action=\"cutoff\"].knob[data-osc=\"1\"]').val(osc2cutoff).trigger('change');\n       $('.knob[data-action=\"tremolo-speed\"]').val(tremoloSpeed).trigger('change');\n       $('.knob[data-action=\"tremolo-depth\"]').val(tremoloDepth).trigger('change');\n       $('.knob[data-action=\"vibrato-speed\"]').val(vibratoSpeed).trigger('change');\n       $('.knob[data-action=\"vibrato-depth\"]').val(vibratoDepth).trigger('change');\n       document.querySelector(`.osctype[data-type=${osc1type}].osctype[data-osc=\"1\"]`).click();\n       document.querySelector(`.osctype[data-type=${osc2type}].osctype[data-osc=\"2\"]`).click();\n  },\n  start(){\n    let keys = this.keys;\n    this.setUpPresets();\n    this.setUpKnobs();\n    this.setUpOscillatorTypes();\n    this.animate()\n    document.addEventListener('keydown', e => {\n      let keyInfo = keys[e.keyCode];\n      if (keyInfo) {\n        jQuery.event.trigger('gateOn');\n        if (keyInfo.down) return;\n        keyInfo.down = true;\n        keyInfo.action(keyInfo);\n      }\n    });\n\n    document.addEventListener('keyup', e => {\n      let keyInfo = keys[e.keyCode];\n      if (keyInfo) {\n        keyInfo.down = false;\n        // If octave key, return before stopping synth\n        if (keyInfo.type === 'octave' ) return;\n\n        let n = keyInfo.n;\n        if (keyInfo.incremented){\n          this.synth.stop(keyInfo.origin);\n          this.releaseKey(keyInfo.origin);\n          keyInfo.incremented = false;\n        } else {\n          this.synth.stop(n);\n          this.releaseKey(n);\n        }\n      }\n\n    });\n\n    $(document).bind('setAttack', function (_, value) {\n      this.synth.envelope.attack = value;\n    }.bind(this));\n\n    $(document).bind('setDecay', function (_, value) {\n      this.synth.envelope.decay = value;\n    }.bind(this));\n\n    $(document).bind('setSustain', function (_, value) {\n      this.synth.envelope.sustain = value;\n    }.bind(this));\n\n    $(document).bind('setRelease', function (_, value) {\n      this.synth.envelope.release = value + .01;\n    }.bind(this));\n\n\n    this.synth.tremoloLfo.connect(this.synth.tremoloAmp);\n    this.synth.tremoloAmp.connect(this.synth.volume.gain.gain);\n\n    this.synth.volume.connect(this.synth.compressor);\n    this.synth.volume.connect(this.synth.context.destination);\n    this.synth.tremoloLfo.start();\n\n  },\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./scripts/synth_view.js\n// module id = 3\n// module chunks = 0","export default function makeBiquadFilter({context, cutoff}){\n  if (cutoff === undefined) cutoff = 22;\n  let filter = context.createBiquadFilter();\n  filter.type = 'lowshelf';\n  let input = filter,\n      output = filter,\n      frequency = filter.frequency;\n      filter.frequency.value = cutoff * 1000;\n      filter.gain.value = 20;\n\n  return {\n    filter,\n    frequency,\n    input,\n    output,\n    changeFilter(newFreq){\n      this.filter.frequency.value = newFreq;\n    },\n    connect(node){\n      if (node.hasOwnProperty('input')) {\n        this.output.connect(node.input);\n      } else {\n        this.output.connect(node);\n      }\n    }\n  };\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./scripts/biquadfilter.js\n// module id = 4\n// module chunks = 0","export default function makeOscillator({context, n, frequency, type, oct}){\n  var oscillator = context.createOscillator();\n  let input = oscillator,\n      output = oscillator;\n  return {\n    oct,\n    n,\n    oscillator,\n    frequency,\n    type,\n    start(){\n      oscillator.type = this.type;\n      oscillator.frequency.value = this.frequency * Math.pow(2, oct - 1);\n      oscillator.start();\n    },\n    changeType(newType){\n      oscillator.type = newType;\n    },\n    changeFrequency(freq){\n      oscillator.frequency.value = freq;\n    },\n    changeOctave(octave){\n      this.frequency = this.frequency * Math.pow(2, oct - 1);\n    },\n\n    input,\n    output,\n    connect(node){\n      if (node.hasOwnProperty('input')) {\n        output.connect(node.input);\n      } else {\n        output.connect(node);\n      }\n    }\n  };\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./scripts/oscillator.js\n// module id = 5\n// module chunks = 0","import { makeVoice } from './voice.js';\nimport makeEnvelope from './envelope.js';\nimport amp from './amp.js';\nimport lfo from './lfo.js';\nlet WIDTH = document.querySelector('#canvas').width;\nlet HEIGHT = document.querySelector('#canvas').height;\n\nexport default function makeSynth(){\n  var context = new AudioContext();\n  var compressor = context.createDynamicsCompressor();\n  compressor.threshold.value = -50;\n  compressor.knee.value = 40;\n  compressor.ratio.value = 12;\n  compressor.attack.value = .25;\n  compressor.release.value = 0.25;\n  var volume = amp({context});\n\n  return {\n    context,\n    activeVoices: {},\n    destination: context.destination,\n    volume,\n    compressor,\n    tremoloAmp: amp({context, vol: 0}),\n    tremoloLfo: lfo({context, frequency: 0}),\n    vibratoSpeed: 0,\n    vibratoDepth: 0,\n    tremoloSpeed: 0,\n    tremoloDepth: 0,\n    osc1type: 'sine',\n    osc2type: 'sine',\n    osc1cutoff: 22,\n    osc2cutoff: 22,\n    osc1vol: 0.1,\n    osc2vol: 0.05,\n    osc1oct: 1,\n    osc2oct: 2,\n    envelope: {attack: 0, decay: 0, sustain: .5, release: .5},\n    start(key){\n      let n = key.n;\n      let frequency = this.calculateFrequency(n);\n      let type1 = this.osc1type, type2 = this.osc2type,\n          vol1 = this.osc1vol, vol2 = this.osc2vol,\n          oct1 = this.osc1oct, oct2 = this.osc2oct,\n          cutoff1 = this.osc1cutoff, cutoff2 = this.osc2cutoff,\n          res1 = this.osc1res, res2 = this.osc2res,\n          vibratoSpeed = this.vibratoSpeed, vibratoDepth = this.vibratoDepth,\n          tremoloSpeed = this.tremoloSpeed, tremoloDepth = this.tremoloDepth;\n      this.activeVoices[n] =\n        makeVoice({\n          context, n, frequency, volume, type1, type2,\n          vol1, vol2, oct1, oct2, cutoff1, cutoff2, res1, res2,\n          vibratoSpeed, vibratoDepth, tremoloSpeed, tremoloDepth});\n      this.activeVoices[n].connect();\n      let envelope = this.envelope;\n      this.activeVoices[n].start(envelope);\n    },\n    draw(ctx){\n\n      ctx.clearRect(0, 0, WIDTH, HEIGHT);\n      let voiceKeys = Object.keys(this.activeVoices);\n      voiceKeys.forEach((key) => {\n        this.activeVoices[key].analyser.draw(ctx, this.activeVoices[key].frequency);\n      });\n    },\n\n    updateFrequencies(diff){\n      let voiceKeys = Object.keys(this.activeVoices);\n      for (let i = 0; i < voiceKeys.length; i++){\n        let n = this.activeVoices[voiceKeys[i]].n;\n        n += diff;\n        this.activeVoices[voiceKeys[i]].n = n;\n        let freq = this.calculateFrequency(n);\n        this.activeVoices[voiceKeys[i]].changeFrequency(freq);\n      }\n    },\n\n    changeLFO(value, control, type){\n      if (type === 'vibrato'){\n        if ( control === 'speed') {\n          this.vibratoSpeed = value;\n        } else {\n          this.vibratoDepth = value;\n        }\n      } else {\n        if (type === 'tremolo') {\n          if (control === 'speed'){\n            this.tremoloSpeed = value;\n            this.tremoloLfo.lfoFrequency.value = value;\n          } else {\n            value /= 1000;\n            this.tremoloDepth = value;\n            this.tremoloAmp.gain.gain.value = value;\n          }\n        }\n      }\n      let voiceKeys = Object.keys(this.activeVoices);\n      for (let i = 0; i < voiceKeys.length; i++){\n        if (type === 'vibrato'){\n          if (control === 'speed'){\n            this.activeVoices[voiceKeys[i]].lfoVibrato.changeFrequency(this.vibratoSpeed);\n          } else {\n            this.activeVoices[voiceKeys[i]].lfoVibratoAmp.changeAmplitude(this.vibratoDepth);\n          }\n        }\n      }\n    },\n\n    changeOscVolume(vol, osc){\n      let changedOsc;\n      if (osc === 1){\n        changedOsc = 1;\n        this.osc1vol = vol;\n      } else {\n        changedOsc = 2;\n        this.osc2vol = vol;\n      }\n      let voiceKeys = Object.keys(this.activeVoices);\n      for (let i = 0; i < voiceKeys.length; i++){\n        if (changedOsc === 1){\n          this.activeVoices[voiceKeys[i]].amp1.changeAmplitude(this.osc1vol);\n        } else {\n          this.activeVoices[voiceKeys[i]].amp2.changeAmplitude(this.osc2vol);\n        }\n      }\n    },\n\n    changeOctave(octave, osc){\n      let changedOct;\n      if (osc === 1){\n        changedOct = 1;\n        this.osc1oct = octave;\n      } else {\n        changedOct = 2;\n        this.osc2oct = octave;\n      }\n      let voiceKeys = Object.keys(this.activeVoices);\n      for (let i = 0; i < voiceKeys.length; i++){\n        if (changedOct === 1){\n          this.activeVoices[voiceKeys[i]].oscillator1.changeOctave(this.osc1oct);\n        } else {\n          this.activeVoices[voiceKeys[i]].oscillator2.changeOctave(this.osc2oct);\n        }\n      }\n    },\n\n    changeCutoff(freq, res, osc){\n      let changedOsc;\n      if (osc === 1){\n        changedOsc = 1;\n        this.osc1cutoff = freq;\n      } else {\n        changedOsc = 2;\n        this.osc2cutoff = freq;\n      }\n\n      let voiceKeys = Object.keys(this.activeVoices);\n      for (let i = 0; i < voiceKeys.length; i++){\n        if (changedOsc === 1){\n          this.activeVoices[voiceKeys[i]].filter1.changeFilter(freq);\n        } else {\n          this.activeVoices[voiceKeys[i]].filter2.changeFilter(freq);\n        }\n      }\n    },\n\n    changeType(type, osc){\n      if (osc === '1'){\n        this.osc1type = type;\n      } else {\n        this.osc2type = type;\n      }\n      let voiceKeys = Object.keys(this.activeVoices);\n    },\n\n    stop(n){\n      if (!this.activeVoices[n]);\n      n = this.handleOctaveChange(n);\n      let voice = this.activeVoices[n];\n      voice.stop(this.envelope.release);\n      delete this.activeVoices[n];\n    },\n\n    handleOctaveChange(n){\n      let order = 1;\n      while (!this.activeVoices[n]){\n        let inc = 12;\n        if (this.activeVoices[n + (inc * order)]){\n          n = n + (inc * order);\n        } else if (this.activeVoices[ n - (inc * order)]){\n          n = n - (inc * order);\n        }\n        order += 1;\n      }\n      return n;\n    },\n\n    calculateFrequency(n){\n      return Math.pow(2, (n-49)/12) * 440;\n    }\n  };\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./scripts/synth.js\n// module id = 6\n// module chunks = 0","import { synthView } from './synth_view.js';\n\nwindow.synthView = synthView;\nwindow.synth = synthView.synth;\nwindow.envelope = window.synth.envelope;\ndocument.addEventListener('DOMContentLoaded', function(){\n  synthView.start();\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./scripts/synthviz.js\n// module id = 7\n// module chunks = 0","import oscillator from './oscillator.js';\nimport amp from './amp.js';\nimport makeEnvelope from './envelope.js';\nimport makeBiquadFilter from './biquadfilter.js';\nimport lfo from './lfo.js';\nimport makeAnalyser from './waveform.js';\n\n\nexport function makeVoice({\n  context, n, frequency, volume, type1, type2, vol1, vol2, oct1, oct2,\n    cutoff1, cutoff2, res1, res2, vibratoSpeed, vibratoDepth}){\n  return {\n    frequency,\n    context,\n    n,\n    lfoVibrato: lfo({context, frequency: vibratoSpeed}),\n    analyser: makeAnalyser({context, frequency}),\n    lfoVibratoAmp: amp({context, vol: vibratoDepth}),\n    oscillator1: oscillator({context, n, frequency, oct: oct1, type: type1}),\n    oscillator2: oscillator({context, n, frequency, oct: oct2, type: type2}),\n    amp1: amp({context, vol: vol1}),\n    amp2: amp({context, vol: vol2}),\n    envelope1: makeEnvelope({context}),\n    envelope2: makeEnvelope({context}),\n    filter1: makeBiquadFilter({context, cutoff: cutoff1, res: res1}),\n    filter2: makeBiquadFilter({context, cutoff: cutoff2, res: res2}),\n    connect(){\n      this.lfoVibrato.connect(this.lfoVibratoAmp);\n\n      this.lfoVibratoAmp.connect(this.oscillator1.oscillator.frequency);\n      this.lfoVibratoAmp.connect(this.oscillator2.oscillator.frequency);\n\n      this.envelope1.connect(this.amp1.amplitude);\n      this.envelope2.connect(this.amp2.amplitude);\n\n      this.oscillator1.connect(this.amp1);\n      this.oscillator2.connect(this.amp2);\n\n      this.amp1.connect(this.filter1);\n      this.amp2.connect(this.filter2);\n\n      this.filter1.connect(this.analyser);\n      this.filter2.connect(this.analyser);\n      this.analyser.connect(volume);\n      this.analyser.connect(volume);\n    },\n\n    changeFrequency(freq){\n      this.oscillator1.changeFrequency(freq);\n      this.oscillator2.changeFrequency(freq);\n    },\n\n    start(envelope){\n      console.log(this.frequency);\n      this.envelope1.envOn(envelope.attack, envelope.decay,\n          envelope.sustain, this.amp1.amplitude.value);\n      this.envelope2.envOn(envelope.attack, envelope.decay,\n          envelope.sustain, this.amp2.amplitude.value);\n\n      this.oscillator1.start();\n      this.oscillator2.start();\n      this.lfoVibrato.start();\n\n    },\n    stop(releaseTime){\n      this.envelope1.envOff(releaseTime);\n      this.envelope2.envOff(releaseTime);\n      setTimeout(() => {\n        this.lfoVibrato.lfo.disconnect(this.lfoVibratoAmp.gain);\n\n        this.lfoVibratoAmp.gain.disconnect(this.oscillator1.oscillator.frequency);\n        this.lfoVibratoAmp.gain.disconnect(this.oscillator2.oscillator.frequency);\n\n        this.oscillator1.oscillator.disconnect(this.amp1.gain);\n        this.oscillator2.oscillator.disconnect(this.amp2.gain);\n\n        this.amp1.gain.disconnect(this.filter1.filter);\n        this.amp2.gain.disconnect(this.filter2.filter);\n\n        this.filter1.filter.disconnect(this.analyser.analyser);\n        this.filter2.filter.disconnect(this.analyser.analyser);\n\n        this.analyser.analyser.disconnect(volume);\n        this.analyser.analyser.disconnect(volume);\n\n      }, releaseTime * 1000);\n    }\n  };\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./scripts/voice.js\n// module id = 8\n// module chunks = 0","export default function makeWaveForm({context, frequency}){\n  let drawVisual;\n  let canvas = document.querySelector('#canvas');\n  let analyser = context.createAnalyser();\n    analyser.fftSize = 2048;\n  var bufferLength = analyser.frequencyBinCount;\n  var dataArray = new Uint8Array(bufferLength);\n  let WIDTH = canvas.width;\n  let HEIGHT = canvas.height;\n\n  let input = analyser,\n      output = analyser;\n\n  function draw(ctx, freq){\n    let color = 'blue';\n    if (freq < 270){\n      color = '#ff00f7';\n    }else if (freq >= 270 && freq <= 300 ){\n      color = '#ff00f7';\n    } else if (freq > 300 && freq < 350){\n      color = '#24ff00';\n    } else if (freq >= 350 && freq <= 400){\n      color = '#24ff00';\n    } else if (freq > 400 && freq <= 500){\n      color = '#f8ff00';\n    } else if (freq > 500){\n      color = '#f8ff00';\n    }\n\n    analyser.getByteTimeDomainData(dataArray);\n    ctx.lineWidth = 1.8;\n\n    ctx.strokeStyle = color;\n    ctx.beginPath();\n    var sliceWidth = WIDTH * 1.0 / bufferLength;\n    var x = 0;\n    for(var i = 0; i < bufferLength; i++) {\n      var v = dataArray[i] / 128.0;\n      var y = v * HEIGHT / 2;\n      if(i === 0) {\n        ctx.moveTo(x, y);\n      } else {\n        ctx.lineTo(x, y);\n      }\n      x += sliceWidth;\n    }\n    ctx.lineTo(canvas.width, canvas.height/2);\n    ctx.stroke();\n  }\n\n  return {\n    analyser,\n    input,\n    output,\n    draw,\n\n    connect(node){\n      if (node.hasOwnProperty('input')) {\n        this.output.connect(node.input);\n      } else {\n        this.output.connect(node);\n      }\n    }\n  };\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./scripts/waveform.js\n// module id = 9\n// module chunks = 0"],"sourceRoot":""}